(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"052f":function(e,t,o){},1960:function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.editable?o("div",{staticClass:"row"},[o("span",{staticClass:"col-sm-2 col-xs-1"},[e._t("default")],2),o("span",{staticClass:"col"},[o("q-slider",{attrs:{value:e.currentProb,min:.001,max:.999,step:.001,color:e.color,label:"","label-value":e.percent(e.currentProb),"label-always":""},on:{input:e.setProb}})],1)]):o("div",{staticClass:"row justify-between align-center rounded-borders",style:e.probStyle},[o("span",{staticClass:"overflow-hidden q-pl-sm"},[e._t("default")],2),o("span",[e._v("\n      "+e._s(e.percent(e.currentProb))+"\n    ")])])])},n=[],i=o("bc78"),a={name:"ProbabilityBar",props:{value:{type:Number,required:!0},color:{type:String,default:"primary"},editable:Boolean},data:function(){return{currentProb:this.value}},computed:{probStyle:function(){var e=this.percent(this.currentProb/2),t=this.percent(this.currentProb),o=i["a"].getBrand(this.color),s=i["a"].lighten(o,25);return{background:"linear-gradient(90deg,"+s+" 0%,"+s+" "+e+", white "+t+")"}}},methods:{percent:function(e){return(100*e).toFixed(1)+"%"},setProb:function(e){this.currentProb=e,this.$emit("input",this.currentProb)}}},r=a,l=o("2877"),c=o("c1d0"),d=o("eebe"),u=o.n(d),p=Object(l["a"])(r,s,n,!1,null,null,null);t["a"]=p.exports;u()(p,"components",{QSlider:c["a"]})},bda8:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"q-pa-md"},[o("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit,reset:e.onReset}},[o("h5",[e._v(" Add an event ")]),o("q-input",{staticStyle:{"max-width":"400px"},attrs:{filled:"",label:"Event name",hint:"example: I met an old friend like my horoscope suggested","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please enter an event"}]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),o("h5",[e._v(" Event likelihood ")]),o("div",{staticClass:"row items-center"},[o("p",[e._v(" How likely was this event, if the hypothesis were true? ")]),o("q-space"),o("q-btn",{attrs:{round:"",color:"primary",icon:"help"},on:{click:function(t){e.help=!0}}}),o("q-dialog",{model:{value:e.help,callback:function(t){e.help=t},expression:"help"}},[o("q-card",[o("q-card-section",[o("div",{staticClass:"text-h6"},[e._v("Help")])]),o("q-card-section",{staticClass:"q-pt-none"},[e._v("\n            For every hypothesis, evaluate the likelihood of the event, assuming this hypothesis is true.\n          ")]),o("q-separator"),o("q-card-section",[o("div",{staticClass:"text-subtitle1"},[e._v("Example")])]),o("q-card-section",{staticClass:"q-pt-none"},[e._v('\n            If astrology works (hypothesis "yes"), then I had 100% chance of meeting an old friend today, as my horoscope suggested. Hypothesis "yes": 100%.\n          ')]),o("q-card-section",{staticClass:"q-pt-none"},[e._v('\n            If astrology does not work (hypothesis "no"), meeting an old friend by chance would happen approximately one day every 100 days, so 1%. Hypothesis "no": 1%.\n          ')]),o("q-card-section",{staticClass:"q-pt-none"},[e._v("\n            Similarly, not meeting an old friend would also have been an event, unlikely if astrology works, and likely caused by chance.\n          ")]),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Got it",color:"primary"}})],1)],1)],1)],1),o("div",{staticClass:"column q-gutter-sm"},e._l(e.question.hypothesis,(function(t){return o("probability-bar",{key:t.id,attrs:{color:"secondary",editable:""},model:{value:e.likelihood[t.id].prob,callback:function(o){e.$set(e.likelihood[t.id],"prob",o)},expression:"likelihood[hyp.id].prob"}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),1),o("div",[o("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),o("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)},n=[],i=(o("13d5"),o("5319"),o("ddb0"),o("1960")),a=o("18d6"),r={name:"AddEvidence",components:{ProbabilityBar:i["a"]},props:["questionId"],data:function(){var e=a["a"].getItem("question/"+this.questionId),t=e.hypothesis.reduce((function(e,t){return e[t.id]={prob:.5},e}),{});return{name:"",help:!1,question:e,likelihood:t}},methods:{onSubmit:function(e){var t=0;this.question.hypothesis.forEach((e=>{t+=e.prob*this.likelihood[e.id].prob})),console.log("marginal:",t),this.question.hypothesis.forEach((e=>{e.prob=e.prob*this.likelihood[e.id].prob/t}),this);const o=this.question.hypothesis.map((e=>e.prob));console.log("posteriors: ",o),console.log("new probs sum to 1:",o.reduce(((e,t)=>e+t))),this.question.evidences.push({id:this.question.evidences.length,name:this.name,likelihood:this.likelihood,date:new Date}),a["a"].set("question/"+this.question.id,this.question),this.$router.replace({name:"question",params:{questionId:this.question.id}})},onReset:function(e){for(const[t,o]of Object.entries(this.likelihood))console.log("previous prob: ",o),this.likelihood[t].prob=.5,this.name=""}}},l=r,c=(o("f250"),o("2877")),d=o("0378"),u=o("27f9"),p=o("2c91"),h=o("9c40"),b=o("24e8"),m=o("f09f"),f=o("a370"),v=o("eb85"),y=o("4b7e"),q=o("7f67"),g=o("eebe"),k=o.n(g),w=Object(c["a"])(l,s,n,!1,null,null,null);t["default"]=w.exports;k()(w,"components",{QForm:d["a"],QInput:u["a"],QSpace:p["a"],QBtn:h["a"],QDialog:b["a"],QCard:m["a"],QCardSection:f["a"],QSeparator:v["a"],QCardActions:y["a"]}),k()(w,"directives",{ClosePopup:q["a"]})},f250:function(e,t,o){"use strict";var s=o("052f"),n=o.n(s);n.a}}]);