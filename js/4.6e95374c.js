(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{1960:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.editable?o("div",{staticClass:"row"},[o("span",{staticClass:"col-sm-2 col-xs-1"},[e._t("default")],2),o("span",{staticClass:"col"},[o("q-slider",{attrs:{value:e.currentProb,min:.001,max:.999,step:.001,color:e.color,label:"","label-value":e.percent(e.currentProb),"label-always":""},on:{input:e.setProb}})],1)]):o("div",{staticClass:"row justify-center align-center rounded-borders",style:e.probStyle},[o("span",{staticClass:"col-10 overflow-hidden"},[e._t("default")],2),o("span",{staticClass:"col-1"},[e._v("\n      "+e._s(e.percent(e.currentProb))+"\n    ")])])])},n=[],s=o("bc78"),r={name:"ProbabilityBar",props:{value:{type:Number,required:!0},color:{type:String,default:"primary"},editable:Boolean},data:function(){return{currentProb:this.value}},computed:{probStyle:function(){var e=this.percent(this.currentProb/2),t=this.percent(this.currentProb),o=s["a"].getBrand(this.color),i=s["a"].lighten(o,25);return{background:"linear-gradient(90deg,"+i+" 0%,"+i+" "+e+", white "+t+")"}}},methods:{percent:function(e){return(100*e).toFixed(1)+"%"},setProb:function(e){this.currentProb=e,this.$emit("input",this.currentProb)}}},a=r,l=o("2877"),u=o("c1d0"),c=o("eebe"),d=o.n(c),p=Object(l["a"])(a,i,n,!1,null,null,null);t["a"]=p.exports;d()(p,"components",{QSlider:u["a"]})},bda8:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"q-pa-md"},[o("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit,reset:e.onReset}},[o("h5",[e._v(" Add an event ")]),o("q-input",{staticStyle:{"max-width":"400px"},attrs:{filled:"",label:"Event name",hint:"example: I met an old friend like my horoscope suggested","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please enter an event"}]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),o("h5",[e._v(" Event likelihood ")]),o("p",[e._v(" What if the probability of this event happening, if the hypothesis were true? ")]),o("div",{staticClass:"column q-gutter-sm"},e._l(e.question.hypothesis,(function(t){return o("probability-bar",{key:t.id,attrs:{color:"secondary",editable:""},model:{value:e.likelihood[t.id].prob,callback:function(o){e.$set(e.likelihood[t.id],"prob",o)},expression:"likelihood[hyp.id].prob"}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),1),o("div",[o("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),o("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)},n=[],s=(o("13d5"),o("5319"),o("ddb0"),o("1960")),r=o("18d6"),a={name:"AddEvidence",components:{ProbabilityBar:s["a"]},props:["questionId"],data:function(){var e=r["a"].getItem("question/"+this.questionId),t=e.hypothesis.reduce((function(e,t){return e[t.id]={prob:.5},e}),{});return{name:"",question:e,likelihood:t}},methods:{onSubmit:function(e){var t=0;this.question.hypothesis.forEach((e=>{t+=e.prob*this.likelihood[e.id].prob})),console.log("marginal:",t),this.question.hypothesis.forEach((e=>{e.prob=e.prob*this.likelihood[e.id].prob/t}),this);const o=this.question.hypothesis.map((e=>e.prob));console.log("posteriors: ",o),console.log("new probs sum to 1:",o.reduce(((e,t)=>e+t))),this.question.evidences.push({id:this.question.evidences.length,name:this.name,likelihood:this.likelihood,date:new Date}),r["a"].set("question/"+this.question.id,this.question),this.$router.replace({name:"question",params:{questionId:this.question.id}})},onReset:function(e){for(const[t,o]of Object.entries(this.likelihood))console.log("previous prob: ",o),this.likelihood[t].prob=.5,this.name=""}}},l=a,u=o("2877"),c=o("0378"),d=o("27f9"),p=o("9c40"),h=o("eebe"),b=o.n(h),m=Object(u["a"])(l,i,n,!1,null,null,null);t["default"]=m.exports;b()(m,"components",{QForm:c["a"],QInput:d["a"],QBtn:p["a"]})}}]);